{% extends 'base.html' %}

{% load staticfiles %}
{% block stylesheet %}
    <link href="{% static 'dynamic_paper/css/style.css' %}" rel="stylesheet" media="screen">
{% endblock %}
{% block javascript %}
    {{ block.super }}
    <script src="{% static 'dynamic_paper/js/src/backbone/model.js' %}" type="text/javascript"></script>
    <script src="{% static 'dynamic_paper/js/src/backbone/collection.js' %}" type="text/javascript"></script>
    <script src="{% static 'dynamic_paper/js/src/backbone/view.js' %}" type="text/javascript"></script>
{% endblock %}
{% block templates %}
    <script id="paper_model" type="text/template"><div <% if (model.get('type')=='text') { %>contenteditable='true'<% } %> style="margin-left:<%=level*5%>px;" class="paper <%=model.get('type')%>" data-id="<%=model.get('id')%>"><% if (model.get('children')) { %><% if(model.get('type')!='container') { %><div style="margin-left:<%=(level+1)*5%>px;" class="paper title"><%=model.get('value')%><button class="add-btn" data-id="<%=model.get('id')%>">+</button></div><% } %><%=model.get('children').html(level)%><% } else { %><%=model.get('value')%><%}%></div></script>
    <script id="paper_collection" type="text/template"><% for (var i=0; i < collection.length; i++) { %><%=collection.models[i].html(level)%><% } %></script>
{% endblock %}